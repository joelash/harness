<!DOCTYPE html><html lang="en"><head><title>index</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content=""><meta name="groc-document-path" content="index"><meta name="groc-project-path" content="README.md"><meta name="groc-github-url" content="https://github.com/todoubled/todoubled"><link rel="stylesheet" type="text/css" media="all" href="assets/style.css"><script type="text/javascript" src="assets/behavior.js"></script><body><div id="meta"><div class="file-path"><a href="https://github.com/todoubled/todoubled/blob/master/README.md">README.md</a></div></div><div id="document"><div class="segment"><div class="comments"><div class="wrapper"><h1 id="harness">Harness</h1>

<p>Tools for writing HTML, CSS, and JavaScript with unit and integration testing, dependency management, deployment and API mocks.</p>

<p>The most common use case is a project that involves a Rails app and a Backbone.js app.
Traditionally, both apps would be kept in the same codebase out of convenience but at the expense of portability and boundary.
With <code>harness</code> you can give the apps separate codebases and still have the same test and front end preprocessing tools you'd expect with a Rails stack.</p>

<p>Write an app with <code>harness</code> and deploy it to any host web app or even S3.</p>

<h1 id="features">Features</h1>

<p><strong>Auto-running unit tests in all browsers with <a href="http://pivotal.github.com/jasmine/"><code>jasmine</code></a> and <a href="https://github.com/airportyh/testem"><code>testem</code></a></strong></p>

<ul>
<li>Unit tests are auto-run in any browser currently opened to <code>localhost:7357</code> every time a source or test file changes</li>
</ul>

<p><strong>Headless integration tests in Webkit with <a href="http://casperjs.org/"><code>casperjs</code></a></strong></p>

<ul>
<li>Integration tests are run every time a source or test file changes</li>
</ul>

<p><strong>Documentation with <a href="https://github.com/nevir/groc"><code>groc</code></a></strong></p>

<ul>
<li>Inline comments with markdown are parsed and displayed as HTML documentation</li>
</ul>

<p><strong>Browser auto-refresh with <a href="https://github.com/livereload/livereload-extensions"><code>live-reload</code></a></strong></p>

<ul>
<li>Page is refreshed in any browser currently opened to <code>localhost:8080</code> every time a source file changes</li>
</ul>

<p><strong>Dependency management with <a href="https://github.com/substack/node-browserify"><code>browserify</code></a></strong></p>

<ul>
<li>Modularize, prevent global leakage, and control module dependencies</li>
</ul>

<p><strong>Endpoint mocks with <a href="http://expressjs.com/"><code>express</code></a></strong></p>

<ul>
<li>Mock out server endpoints with sample responses that mimic production</li>
</ul>

<p><strong>Deployment to filesystem</strong></p>

<ul>
<li><code>make deploy</code> accepts an <code>OUTPUT</code> variable to <code>cp</code> the output assets to another codebase on the filesystem</li>
</ul>

<p><strong>Support for various versions of dependencies with query string parameters</strong></p>

<ul>
<li>Test the app against new and old versions of Backbone or jQuery during development with query string parameters</li>
</ul>

<h2 id="collateral-benefits">Collateral Benefits</h2>

<p><strong>App/Platform independent</strong></p>

<ul>
<li>Embeddable for any app in any country on any platform, providing the configuration and endpoints are defined</li>
</ul>

<p><strong>Runtime dependency independent</strong></p>

<ul>
<li>Use any dependencies you want -- backbone.js, ember.js or fuckit.js</li>
</ul>

<p><strong>Clear and defined integration points</strong></p>

<ul>
<li>Forces upfront thought to define the boundaries and interfaces for client-side code</li>
</ul>

<p><strong>Less global impact</strong></p>

<ul>
<li>Reduce the reliance on super objects</li>
</ul>

<p><strong>Fast and transparent tests</strong></p>

<ul>
<li>Run automatically on every file change so test setup is painless</li>
<li>Early detection of regressions</li>
</ul>

<hr />

<h1 id="dependencies">Dependencies</h1>

<ul>
<li>gcc: install via Xcode</li>
<li><a href="http://nodejs.org/dist/v0.8.8/node-v0.8.8.pkg">node.js 0.8.8+</a></li>
<li>pygments: <code>sudo easy_install pygments</code></li>
<li>casper.js: <code>brew install casperjs</code></li>
</ul>

<p><code>make install</code> to install dependencies after a fresh clone.</p>

<hr />

<h2 id="workflow">Workflow</h2>

<p><code>make server</code> starts file watchers for <code>src/</code> and <code>/test</code> and a server at <code>http://localhost:8080</code> for development.</p>

<p><code>make test</code> to run the tests at <code>http://localhost:7357</code> in all open browsers every time a source or test file is changed.</p>

<p><code>make itest</code> to run the integration tests every time a source or test file is changed.</p>

<p><code>make deploy OUTPUT=/path/to/www</code> to make a build and <code>cp public/prefix*</code> a directory of your choosing.</p></div></div></div></div></body></html>